pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
ang_vel = 0.02
lin_acc = 0.2
fric = 0.9

anim = {
  {1, false, false},
  {2, true, false},
  {3, true, false},
  {2, true, true},
  {1, false, true},
  {2, false, true},
  {3, false, false},
  {2, false, false},
}

function _init()
  p = {
    x = 64,
    y = 64,
    ang = 0.25,
    vel = 0,
    acc = 0,
    anim = 1,
    frame = 1,
    flipx = false,
    flipy = false
  }
end

function _update()
  p.acc = 0
  p.vel *= fric

  if btn(0) then p.ang += ang_vel end
  if btn(1) then p.ang -= ang_vel end
  if btn(4) then p.acc = lin_acc end

  p.ang %= 1

  p.vel += p.acc
  p.x += cos(p.ang) * p.vel
  p.y += sin(p.ang) * p.vel
end

function _draw()
  cls()

  print(p.vel)

  p.anim = flr(p.ang * 8 + 6.25) % 8 + 1
  p.frame = anim[p.anim][1]
  p.flipx = anim[p.anim][2]
  p.flipy = anim[p.anim][3]
  
  spr(p.frame, p.x, p.y, 1, 1, p.flipx, p.flipy)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000aa0000000aa0000990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000aa000009aaa00000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000009aa900000aa000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700009009000000900000990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
